/*C6*/SET SCHEMA PUBLIC
create table PERSON (PERSON_ID bigint generated by default as identity (start with 1), age integer, firstname varchar(255), lastname varchar(255), primary key (PERSON_ID))
create table PERSON_EVENT (PERSON_ID bigint not null, EVENT_ID bigint not null, primary key (PERSON_ID, EVENT_ID))
alter table PERSON_EVENT add constraint FKAD91D910A8B41A9A foreign key (EVENT_ID) references EVENT
alter table PERSON_EVENT add constraint FKAD91D910B0A1327A foreign key (PERSON_ID) references PERSON
INSERT INTO EVENT VALUES(3,'2013-03-19 22:45:10.292000','MyEvent')
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO EVENT VALUES(4,'2013-03-19 22:45:23.332000','My event')
COMMIT
INSERT INTO PERSON VALUES(1,0,'Foo','Bar')
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
INSERT INTO EVENT VALUES(5,'2013-03-19 22:48:52.238000','My event')
COMMIT
INSERT INTO PERSON VALUES(2,0,'Foo','Bar')
COMMIT
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
INSERT INTO EVENT VALUES(6,'2013-03-19 22:49:16.543000','My event')
COMMIT
INSERT INTO PERSON VALUES(3,0,'Foo','Bar')
COMMIT
DELETE FROM PERSON WHERE PERSON_ID=3
INSERT INTO PERSON VALUES(3,0,'Foo','Bar')
INSERT INTO PERSON_EVENT VALUES(3,6)
COMMIT
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
INSERT INTO EVENT VALUES(7,'2013-03-19 22:49:59.626000','My event')
COMMIT
INSERT INTO PERSON VALUES(4,0,'Foo','Bar')
COMMIT
DELETE FROM PERSON WHERE PERSON_ID=4
INSERT INTO PERSON VALUES(4,0,'Foo','Bar')
INSERT INTO PERSON_EVENT VALUES(4,7)
COMMIT
DISCONNECT
